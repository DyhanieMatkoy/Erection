import{d as g,s as x,j as i,a as s,k as m,t as f,u as p,l as c,o as d,n as y,b as n,r as $,w as r,f as k,y as C}from"./index-B1sRxO42.js";const w={class:"bg-white shadow-sm sticky top-0 z-50"},h={class:"px-4 py-3 flex items-center justify-between"},B={class:"flex items-center space-x-4"},z={class:"hidden sm:block text-sm text-gray-700"},j={class:"font-medium"},A={key:0,class:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded"},L=g({__name:"AppHeader",emits:["toggle-sidebar"],setup(u){const t=c(),{currentUser:e,isAdmin:l,logout:o}=x();function v(){o(),t.push("/login")}return(b,a)=>(d(),i("header",w,[s("div",h,[s("button",{onClick:a[0]||(a[0]=F=>b.$emit("toggle-sidebar")),class:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100"},[...a[1]||(a[1]=[s("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),a[3]||(a[3]=s("div",{class:"flex items-center"},[s("h1",{class:"text-lg md:text-xl font-semibold text-gray-900"}," Учет строительных работ ")],-1)),s("div",B,[s("div",z,[s("span",j,f(p(e)?.username),1),p(l)?(d(),i("span",A," Администратор ")):m("",!0)]),s("button",{onClick:v,class:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",title:"Выход"},[...a[2]||(a[2]=[s("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])]))}}),M={class:"h-full px-3 pb-4 overflow-y-auto"},V={class:"space-y-2 mt-4"},S={class:"pt-4"},H={class:"mt-2 space-y-1"},N={class:"pt-4"},R={class:"mt-2 space-y-1"},D={class:"pt-4"},E={class:"mt-2 space-y-1"},O=g({__name:"AppSidebar",props:{open:{type:Boolean}},emits:["close"],setup(u){return(t,e)=>{const l=$("RouterLink");return d(),i("div",null,[u.open?(d(),i("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-75 z-40 md:hidden",onClick:e[0]||(e[0]=o=>t.$emit("close"))})):m("",!0),s("aside",{class:y(["fixed top-0 left-0 z-40 h-screen pt-16 transition-transform bg-white border-r border-gray-200","w-64",u.open?"translate-x-0":"-translate-x-full md:translate-x-0"])},[s("div",M,[s("nav",V,[n(l,{to:"/",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[1]||(e[1]=o=>t.$emit("close"))},{default:r(()=>[...e[11]||(e[11]=[s("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),s("span",{class:"ml-3"},"Главная",-1)])]),_:1}),s("div",S,[e[17]||(e[17]=s("h3",{class:"px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Справочники ",-1)),s("div",H,[n(l,{to:"/references/counterparties",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[2]||(e[2]=o=>t.$emit("close"))},{default:r(()=>[...e[12]||(e[12]=[s("span",{class:"ml-3"},"Контрагенты",-1)])]),_:1}),n(l,{to:"/references/objects",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[3]||(e[3]=o=>t.$emit("close"))},{default:r(()=>[...e[13]||(e[13]=[s("span",{class:"ml-3"},"Объекты",-1)])]),_:1}),n(l,{to:"/references/works",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[4]||(e[4]=o=>t.$emit("close"))},{default:r(()=>[...e[14]||(e[14]=[s("span",{class:"ml-3"},"Работы",-1)])]),_:1}),n(l,{to:"/references/persons",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[5]||(e[5]=o=>t.$emit("close"))},{default:r(()=>[...e[15]||(e[15]=[s("span",{class:"ml-3"},"Физические лица",-1)])]),_:1}),n(l,{to:"/references/organizations",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[6]||(e[6]=o=>t.$emit("close"))},{default:r(()=>[...e[16]||(e[16]=[s("span",{class:"ml-3"},"Организации",-1)])]),_:1})])]),s("div",N,[e[21]||(e[21]=s("h3",{class:"px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Документы ",-1)),s("div",R,[n(l,{to:"/documents/estimates",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[7]||(e[7]=o=>t.$emit("close"))},{default:r(()=>[...e[18]||(e[18]=[s("span",{class:"ml-3"},"Сметы",-1)])]),_:1}),n(l,{to:"/documents/daily-reports",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[8]||(e[8]=o=>t.$emit("close"))},{default:r(()=>[...e[19]||(e[19]=[s("span",{class:"ml-3"},"Ежедневные отчеты",-1)])]),_:1}),n(l,{to:"/documents/timesheets",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[9]||(e[9]=o=>t.$emit("close"))},{default:r(()=>[...e[20]||(e[20]=[s("span",{class:"ml-3"},"Табели",-1)])]),_:1})])]),s("div",D,[e[23]||(e[23]=s("h3",{class:"px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Регистры ",-1)),s("div",E,[n(l,{to:"/registers/work-execution",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:e[10]||(e[10]=o=>t.$emit("close"))},{default:r(()=>[...e[22]||(e[22]=[s("span",{class:"ml-3"},"Выполнение работ",-1)])]),_:1})])])])])],2)])}}}),T={class:"min-h-screen bg-gray-100"},U={class:"flex"},q={class:"flex-1 p-4 md:p-6 lg:p-8 md:ml-64"},I=g({__name:"AppLayout",setup(u){const t=k(!1);return(e,l)=>(d(),i("div",T,[n(L,{onToggleSidebar:l[0]||(l[0]=o=>t.value=!t.value)}),s("div",U,[n(O,{open:t.value,onClose:l[1]||(l[1]=o=>t.value=!1)},null,8,["open"]),s("main",q,[C(e.$slots,"default")])])]))}});export{I as _};
