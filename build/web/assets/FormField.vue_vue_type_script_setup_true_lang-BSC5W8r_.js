import{C as w,D as C,f,d as q,j as n,k as b,e as O,t as y,n as x,F as V,p as $,o}from"./index-BmuF08LN.js";async function m(e,t){return(await w.get(`/references/${e}`,{params:t})).data}async function v(e,t){return(await w.post(`/references/${e}`,t)).data.data}async function h(e,t,s){return(await w.put(`/references/${e}/${t}`,s)).data.data}async function k(e,t){await w.delete(`/references/${e}/${t}`)}const P=e=>m("counterparties",e),K=e=>v("counterparties",e),M=(e,t)=>h("counterparties",e,t),Q=e=>k("counterparties",e),R=e=>m("objects",e),U=e=>v("objects",e),X=(e,t)=>h("objects",e,t),Y=e=>k("objects",e),W=e=>m("works",e),Z=e=>v("works",e),_=(e,t)=>h("works",e,t),ee=e=>k("works",e),B=e=>m("persons",e),te=e=>v("persons",e),ae=(e,t)=>h("persons",e,t),se=e=>k("persons",e),F=e=>m("organizations",e),re=e=>v("organizations",e),ne=(e,t)=>h("organizations",e,t),oe=e=>k("organizations",e),le=C("references",()=>{const e=f([]),t=f([]),s=f([]),u=f([]),i=f([]),r=f({counterparties:!1,objects:!1,works:!1,persons:!1,organizations:!1});async function c(l=!1){if(e.value.length>0&&!l)return e.value;r.value.counterparties=!0;try{const a=await P({page_size:1e3});return e.value=a.data,a.data}finally{r.value.counterparties=!1}}async function d(l=!1){if(t.value.length>0&&!l)return t.value;r.value.objects=!0;try{const a=await R({page_size:1e3});return t.value=a.data,a.data}finally{r.value.objects=!1}}async function g(l=!1){if(s.value.length>0&&!l)return s.value;r.value.works=!0;try{const a=await W({page_size:1e3});return s.value=a.data,a.data}finally{r.value.works=!1}}async function z(l=!1){if(u.value.length>0&&!l)return u.value;r.value.persons=!0;try{const a=await B({page_size:1e3});return u.value=a.data,a.data}finally{r.value.persons=!1}}async function p(l=!1){if(i.value.length>0&&!l)return i.value;r.value.organizations=!0;try{const a=await F({page_size:1e3});return i.value=a.data,a.data}finally{r.value.organizations=!1}}function j(){e.value=[],t.value=[],s.value=[],u.value=[],i.value=[]}return{counterparties:e,objects:t,works:s,persons:u,organizations:i,loading:r,fetchCounterparties:c,fetchObjects:d,fetchWorks:g,fetchPersons:z,fetchOrganizations:p,clearCache:j}}),I={class:"space-y-1"},S=["for"],D={key:0,class:"text-red-500"},N=["id","type","value","placeholder","required","disabled","min","max","step"],T=["id","value","placeholder","required","disabled","rows"],E=["id","value","required","disabled"],L={key:0,value:""},A=["value"],G={key:4,class:"text-sm text-red-600"},H={key:5,class:"text-sm text-gray-500"},ue=q({__name:"FormField",props:{id:{},label:{},type:{default:"text"},modelValue:{},placeholder:{},required:{type:Boolean},disabled:{type:Boolean},error:{},hint:{},min:{},max:{},step:{},rows:{default:3},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const s=t;function u(c){const d=c.target;s("update:modelValue",d.value)}function i(c){const d=c.target;s("update:modelValue",d.value)}function r(c){const d=c.target;s("update:modelValue",d.value)}return(c,d)=>(o(),n("div",I,[e.label?(o(),n("label",{key:0,for:e.id,class:"block text-sm font-medium text-gray-700"},[O(y(e.label)+" ",1),e.required?(o(),n("span",D,"*")):b("",!0)],8,S)):b("",!0),e.type!=="select"&&e.type!=="textarea"?(o(),n("input",{key:1,id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,required:e.required,disabled:e.disabled,min:e.min,max:e.max,step:e.step,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onInput:u},null,42,N)):e.type==="textarea"?(o(),n("textarea",{key:2,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rows:e.rows,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onInput:i},null,42,T)):e.type==="select"?(o(),n("select",{key:3,id:e.id,value:e.modelValue,required:e.required,disabled:e.disabled,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onChange:r},[e.placeholder?(o(),n("option",L,y(e.placeholder),1)):b("",!0),(o(!0),n(V,null,$(e.options,g=>(o(),n("option",{key:g.value,value:g.value},y(g.label),9,A))),128))],42,E)):b("",!0),e.error?(o(),n("p",G,y(e.error),1)):e.hint?(o(),n("p",H,y(e.hint),1)):b("",!0)]))}});export{ue as _,M as a,Y as b,K as c,Q as d,X as e,U as f,P as g,R as h,ee as i,_ as j,Z as k,W as l,se as m,ae as n,te as o,B as p,oe as q,ne as r,re as s,F as t,le as u};
