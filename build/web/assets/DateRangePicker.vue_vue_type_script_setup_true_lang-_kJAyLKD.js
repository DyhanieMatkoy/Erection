import{d as k,j as r,k as d,a as l,t as c,F as x,m as h,o as s}from"./index-DUoOKtDv.js";const p={class:"space-y-2"},D={key:0,class:"block text-sm font-medium text-gray-700"},v={class:"grid grid-cols-2 gap-2"},w=["value"],F=["value"],_={key:1,class:"flex flex-wrap gap-1"},C=["onClick"],P={key:2,class:"text-xs text-red-600"},Y=k({__name:"DateRangePicker",props:{from:{default:null},to:{default:null},label:{default:""},showQuickPeriods:{type:Boolean,default:!0},error:{default:""}},emits:["update:from","update:to"],setup(o,{emit:y}){const u=y,b=[{key:"today",label:"Сегодня"},{key:"yesterday",label:"Вчера"},{key:"week",label:"Неделя"},{key:"month",label:"Месяц"},{key:"year",label:"Год"},{key:"last-month",label:"Прошлый месяц"}];function g(a){const e=a.target.value;u("update:from",e||null)}function m(a){const e=a.target.value;u("update:to",e||null)}function f(a){const e=new Date;let t,n=e;switch(a){case"today":t=e,n=e;break;case"yesterday":t=new Date(e),t.setDate(t.getDate()-1),n=t;break;case"week":t=new Date(e),t.setDate(t.getDate()-e.getDay()+1);break;case"month":t=new Date(e.getFullYear(),e.getMonth(),1);break;case"year":t=new Date(e.getFullYear(),0,1);break;case"last-month":t=new Date(e.getFullYear(),e.getMonth()-1,1),n=new Date(e.getFullYear(),e.getMonth(),0);break;default:return}u("update:from",i(t)),u("update:to",i(n))}function i(a){const e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${e}-${t}-${n}`}return(a,e)=>(s(),r("div",p,[o.label?(s(),r("label",D,c(o.label),1)):d("",!0),l("div",v,[l("div",null,[e[0]||(e[0]=l("label",{class:"block text-xs text-gray-500 mb-1"},"С",-1)),l("input",{value:o.from,type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:g},null,40,w)]),l("div",null,[e[1]||(e[1]=l("label",{class:"block text-xs text-gray-500 mb-1"},"По",-1)),l("input",{value:o.to,type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:m},null,40,F)])]),o.showQuickPeriods?(s(),r("div",_,[(s(),r(x,null,h(b,t=>l("button",{key:t.key,type:"button",onClick:n=>f(t.key),class:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50 text-gray-700"},c(t.label),9,C)),64))])):d("",!0),o.error?(s(),r("p",P,c(o.error),1)):d("",!0)]))}});export{Y as _};
