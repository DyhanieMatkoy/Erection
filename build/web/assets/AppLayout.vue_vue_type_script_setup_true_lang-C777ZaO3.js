import{d as y,y as M,j as c,a as e,k as b,t as $,u as x,x as C,o as h,f,g as B,h as j,n as s,b as i,r as V,w as p,B as z}from"./index-OcrUBGsV.js";const H={class:"bg-white shadow-sm sticky top-0 z-50"},L={class:"px-4 py-3 flex items-center justify-between"},S={class:"flex items-center space-x-4"},A={class:"hidden sm:block text-sm text-gray-700"},N={class:"font-medium"},R={key:0,class:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded"},E=y({__name:"AppHeader",emits:["toggle-sidebar"],setup(g){const m=C(),{currentUser:v,isAdmin:n,logout:a}=M();function o(){a(),m.push("/login")}return(w,r)=>(h(),c("header",H,[e("div",L,[e("button",{onClick:r[0]||(r[0]=k=>w.$emit("toggle-sidebar")),class:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100"},[...r[1]||(r[1]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),r[3]||(r[3]=e("div",{class:"flex items-center"},[e("h1",{class:"text-lg md:text-xl font-semibold text-gray-900"}," Учет строительных работ ")],-1)),e("div",S,[e("div",A,[e("span",N,$(x(v)?.username),1),x(n)?(h(),c("span",R," Администратор ")):b("",!0)]),e("button",{onClick:o,class:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",title:"Выход"},[...r[2]||(r[2]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])]))}}),I={class:"h-full px-3 pb-4 overflow-y-auto"},P={class:"hidden md:flex justify-end pt-2 pb-2 border-b border-gray-200"},T=["title"],U={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O={class:"space-y-2 mt-4"},q={class:"pt-4"},F={class:"mt-2 space-y-1"},G={class:"pt-4"},J={class:"mt-2 space-y-1"},K={class:"pt-4"},Q={class:"mt-2 space-y-1"},W=y({__name:"AppSidebar",props:{open:{type:Boolean}},emits:["close","update:pinned"],setup(g,{emit:m}){const v=m,n=f(!0),a=f(!1),o=B(()=>n.value||a.value);j(()=>{const l=localStorage.getItem("sidebar-pinned");l!==null&&(n.value=l==="true"),v("update:pinned",n.value)});function w(){n.value=!n.value,localStorage.setItem("sidebar-pinned",String(n.value)),v("update:pinned",n.value)}function r(){a.value=!0}function k(){a.value=!1}return(l,t)=>{const d=V("RouterLink");return h(),c("div",null,[g.open?(h(),c("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-75 z-40 md:hidden",onClick:t[0]||(t[0]=u=>l.$emit("close"))})):b("",!0),e("aside",{class:s(["fixed top-0 left-0 z-40 h-screen pt-16 transition-all duration-300 bg-white border-r border-gray-200",n.value?"w-64":"w-64 md:w-16",g.open?"translate-x-0":"-translate-x-full md:translate-x-0"]),onMouseenter:r,onMouseleave:k},[e("div",I,[e("div",P,[e("button",{onClick:w,class:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:n.value?"Открепить меню":"Закрепить меню"},[n.value?(h(),c("svg",U,[...t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"},null,-1)])])):(h(),c("svg",D,[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"},null,-1)])]))],8,T)]),e("nav",O,[i(d,{to:"/",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100 group","active-class":"bg-blue-50 text-blue-700",onClick:t[1]||(t[1]=u=>l.$emit("close"))},{default:p(()=>[t[13]||(t[13]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1)),e("span",{class:s(["ml-3 transition-opacity",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Главная",2)]),_:1}),e("div",q,[e("h3",{class:s(["px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider transition-opacity",o.value?"opacity-100":"md:opacity-0 md:h-0 md:overflow-hidden"])}," Справочники ",2),e("div",F,[i(d,{to:"/references/counterparties",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[2]||(t[2]=u=>l.$emit("close")),title:o.value?"":"Контрагенты"},{default:p(()=>[t[14]||(t[14]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Контрагенты",2)]),_:1},8,["title"]),i(d,{to:"/references/objects",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[3]||(t[3]=u=>l.$emit("close")),title:o.value?"":"Объекты"},{default:p(()=>[t[15]||(t[15]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Объекты",2)]),_:1},8,["title"]),i(d,{to:"/references/works",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[4]||(t[4]=u=>l.$emit("close")),title:o.value?"":"Работы"},{default:p(()=>[t[16]||(t[16]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Работы",2)]),_:1},8,["title"]),i(d,{to:"/references/persons",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[5]||(t[5]=u=>l.$emit("close")),title:o.value?"":"Физические лица"},{default:p(()=>[t[17]||(t[17]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Физические лица",2)]),_:1},8,["title"]),i(d,{to:"/references/organizations",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[6]||(t[6]=u=>l.$emit("close")),title:o.value?"":"Организации"},{default:p(()=>[t[18]||(t[18]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Организации",2)]),_:1},8,["title"])])]),e("div",G,[e("h3",{class:s(["px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider transition-opacity",o.value?"opacity-100":"md:opacity-0 md:h-0 md:overflow-hidden"])}," Документы ",2),e("div",J,[i(d,{to:"/documents/estimates",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[7]||(t[7]=u=>l.$emit("close")),title:o.value?"":"Сметы"},{default:p(()=>[t[19]||(t[19]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Сметы",2)]),_:1},8,["title"]),i(d,{to:"/documents/daily-reports",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[8]||(t[8]=u=>l.$emit("close")),title:o.value?"":"Ежедневные отчеты"},{default:p(()=>[t[20]||(t[20]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Ежедневные отчеты",2)]),_:1},8,["title"]),i(d,{to:"/documents/timesheets",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[9]||(t[9]=u=>l.$emit("close")),title:o.value?"":"Табели"},{default:p(()=>[t[21]||(t[21]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Табели",2)]),_:1},8,["title"])])]),e("div",K,[e("h3",{class:s(["px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider transition-opacity",o.value?"opacity-100":"md:opacity-0 md:h-0 md:overflow-hidden"])}," Регистры ",2),e("div",Q,[i(d,{to:"/registers/work-execution",class:"flex items-center p-2 text-gray-900 rounded-lg hover:bg-gray-100","active-class":"bg-blue-50 text-blue-700",onClick:t[10]||(t[10]=u=>l.$emit("close")),title:o.value?"":"Выполнение работ"},{default:p(()=>[t[22]||(t[22]=e("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),e("span",{class:s(["ml-3 transition-opacity whitespace-nowrap",o.value?"opacity-100":"md:opacity-0 md:w-0 md:overflow-hidden"])},"Выполнение работ",2)]),_:1},8,["title"])])])])])],34)])}}}),X={class:"min-h-screen bg-gray-100"},Y={class:"flex"},_=y({__name:"AppLayout",setup(g){const m=f(!1),v=f(!0);return(n,a)=>(h(),c("div",X,[i(E,{onToggleSidebar:a[0]||(a[0]=o=>m.value=!m.value)}),e("div",Y,[i(W,{open:m.value,onClose:a[1]||(a[1]=o=>m.value=!1),"onUpdate:pinned":a[2]||(a[2]=o=>v.value=o)},null,8,["open"]),e("main",{class:s(["flex-1 p-4 md:p-6 lg:p-8 transition-all duration-300",v.value?"md:ml-64":"md:ml-16"])},[z(n.$slots,"default")],2)])]))}});export{_};
