import{d as p,f as b,g as f,m as h,j as a,k as u,a as o,b as w,e as C,t as c,n as y,T as V,w as K,q as B,v as z,i as q,F as L,p as M,o as s}from"./index-B1sRxO42.js";const N={class:"relative"},T={key:0,class:"block text-sm font-medium text-gray-700 mb-1"},I={key:0,class:"text-red-500"},$=["disabled"],D={key:0,class:"block truncate"},F={key:1,class:"block truncate text-gray-400"},j={key:1,class:"mt-1 text-sm text-red-600"},A={key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},E={class:"sticky top-0 bg-white px-2 py-2 border-b border-gray-200"},P={key:0},Q=["onClick"],S={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600"},U={key:1,class:"py-2 px-3 text-sm text-gray-500"},J=p({__name:"Picker",props:{label:{},modelValue:{},items:{},valueKey:{default:"id"},displayKey:{default:"name"},placeholder:{default:"Выберите..."},required:{type:Boolean},disabled:{type:Boolean},error:{}},emits:["update:modelValue"],setup(e,{emit:g}){const n=e,x=g,i=b(!1),d=b(""),v=f(()=>n.items.find(r=>r[n.valueKey]===n.modelValue)),m=f(()=>{if(!d.value)return n.items;const r=d.value.toLowerCase();return n.items.filter(t=>{const l=t[n.displayKey];return typeof l=="string"&&l.toLowerCase().includes(r)})});function k(r){x("update:modelValue",r[n.valueKey]),i.value=!1,d.value=""}return h(i,r=>{r||(d.value="")}),(r,t)=>(s(),a("div",N,[e.label?(s(),a("label",T,[C(c(e.label)+" ",1),e.required?(s(),a("span",I,"*")):u("",!0)])):u("",!0),o("button",{type:"button",disabled:e.disabled,class:y(["relative w-full cursor-pointer rounded-md border bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300":"border-gray-300",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onClick:t[0]||(t[0]=l=>i.value=!i.value)},[v.value?(s(),a("span",D,c(v.value[e.displayKey]),1)):(s(),a("span",F,c(e.placeholder),1)),t[4]||(t[4]=o("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},[o("svg",{class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z","clip-rule":"evenodd"})])],-1))],10,$),e.error?(s(),a("p",j,c(e.error),1)):u("",!0),w(V,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:K(()=>[i.value?(s(),a("div",A,[o("div",E,[B(o("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),type:"text",placeholder:"Поиск...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",onClick:t[2]||(t[2]=q(()=>{},["stop"]))},null,512),[[z,d.value]])]),m.value.length>0?(s(),a("div",P,[(s(!0),a(L,null,M(m.value,l=>(s(),a("div",{key:l[e.valueKey],class:y(["relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-gray-100",e.modelValue===l[e.valueKey]?"bg-blue-50 text-blue-900":"text-gray-900"]),onClick:G=>k(l)},[o("span",{class:y(["block truncate",e.modelValue===l[e.valueKey]?"font-semibold":"font-normal"])},c(l[e.displayKey]),3),e.modelValue===l[e.valueKey]?(s(),a("span",S,[...t[5]||(t[5]=[o("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})],-1)])])):u("",!0)],10,Q))),128))])):(s(),a("div",U," Ничего не найдено "))])):u("",!0)]),_:1}),i.value?(s(),a("div",{key:2,class:"fixed inset-0 z-0",onClick:t[3]||(t[3]=l=>i.value=!1)})):u("",!0)]))}});export{J as _};
