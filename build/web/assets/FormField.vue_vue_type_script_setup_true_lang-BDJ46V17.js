import{C as m,D as C,f,d as q,j as n,k as g,e as O,t as y,n as x,F as V,p as $,o}from"./index-6EFolkGo.js";async function v(e,t){return(await m.get(`/references/${e}`,{params:t})).data}async function h(e,t){return(await m.post(`/references/${e}`,t)).data.data}async function k(e,t,a){return(await m.put(`/references/${e}/${t}`,a)).data.data}async function w(e,t){await m.delete(`/references/${e}/${t}`)}const R=e=>v("counterparties",e),M=e=>h("counterparties",e),Q=(e,t)=>k("counterparties",e,t),U=e=>w("counterparties",e),P=e=>v("objects",e),X=e=>h("objects",e),Y=(e,t)=>k("objects",e,t),Z=e=>w("objects",e),W=e=>v("works",e),_=e=>h("works",e),ee=(e,t)=>k("works",e,t),te=e=>w("works",e),B=e=>v("persons",e),ae=e=>h("persons",e),se=(e,t)=>k("persons",e,t),re=e=>w("persons",e),D=e=>v("organizations",e),ne=e=>h("organizations",e),oe=(e,t)=>k("organizations",e,t),le=e=>w("organizations",e);async function F(e,t){return(await m.post(`/references/${e}/bulk-delete`,{ids:t})).data}const ue=e=>F("counterparties",e),ce=C("references",()=>{const e=f([]),t=f([]),a=f([]),u=f([]),i=f([]),r=f({counterparties:!1,objects:!1,works:!1,persons:!1,organizations:!1});async function c(l=!1){if(e.value.length>0&&!l)return e.value;r.value.counterparties=!0;try{const s=await R({page_size:1e3});return e.value=s.data,s.data}finally{r.value.counterparties=!1}}async function d(l=!1){if(t.value.length>0&&!l)return t.value;r.value.objects=!0;try{const s=await P({page_size:1e3});return t.value=s.data,s.data}finally{r.value.objects=!1}}async function b(l=!1){if(a.value.length>0&&!l)return a.value;r.value.works=!0;try{const s=await W({page_size:1e3});return a.value=s.data,s.data}finally{r.value.works=!1}}async function p(l=!1){if(u.value.length>0&&!l)return u.value;r.value.persons=!0;try{const s=await B({page_size:1e3});return u.value=s.data,s.data}finally{r.value.persons=!1}}async function z(l=!1){if(i.value.length>0&&!l)return i.value;r.value.organizations=!0;try{const s=await D({page_size:1e3});return i.value=s.data,s.data}finally{r.value.organizations=!1}}function j(){e.value=[],t.value=[],a.value=[],u.value=[],i.value=[]}return{counterparties:e,objects:t,works:a,persons:u,organizations:i,loading:r,fetchCounterparties:c,fetchObjects:d,fetchWorks:b,fetchPersons:p,fetchOrganizations:z,clearCache:j}}),I={class:"space-y-1"},S=["for"],N={key:0,class:"text-red-500"},T=["id","type","value","placeholder","required","disabled","min","max","step"],E=["id","value","placeholder","required","disabled","rows"],L=["id","value","required","disabled"],A={key:0,value:""},G=["value"],H={key:4,class:"text-sm text-red-600"},J={key:5,class:"text-sm text-gray-500"},de=q({__name:"FormField",props:{id:{},label:{},type:{default:"text"},modelValue:{},placeholder:{},required:{type:Boolean},disabled:{type:Boolean},error:{},hint:{},min:{},max:{},step:{},rows:{default:3},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t;function u(c){const d=c.target;a("update:modelValue",d.value)}function i(c){const d=c.target;a("update:modelValue",d.value)}function r(c){const d=c.target;a("update:modelValue",d.value)}return(c,d)=>(o(),n("div",I,[e.label?(o(),n("label",{key:0,for:e.id,class:"block text-sm font-medium text-gray-700"},[O(y(e.label)+" ",1),e.required?(o(),n("span",N,"*")):g("",!0)],8,S)):g("",!0),e.type!=="select"&&e.type!=="textarea"?(o(),n("input",{key:1,id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,required:e.required,disabled:e.disabled,min:e.min,max:e.max,step:e.step,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onInput:u},null,42,T)):e.type==="textarea"?(o(),n("textarea",{key:2,id:e.id,value:e.modelValue,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rows:e.rows,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onInput:i},null,42,E)):e.type==="select"?(o(),n("select",{key:3,id:e.id,value:e.modelValue,required:e.required,disabled:e.disabled,class:x(["block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",e.error?"border-red-300 focus:border-red-500 focus:ring-red-500":"",e.disabled?"bg-gray-100 cursor-not-allowed":""]),onChange:r},[e.placeholder?(o(),n("option",A,y(e.placeholder),1)):g("",!0),(o(!0),n(V,null,$(e.options,b=>(o(),n("option",{key:b.value,value:b.value},y(b.label),9,G))),128))],42,L)):g("",!0),e.error?(o(),n("p",H,y(e.error),1)):e.hint?(o(),n("p",J,y(e.hint),1)):g("",!0)]))}});export{de as _,Q as a,ue as b,M as c,U as d,Z as e,Y as f,R as g,X as h,P as i,te as j,ee as k,_ as l,W as m,re as n,se as o,ae as p,B as q,le as r,oe as s,ne as t,ce as u,D as v};
