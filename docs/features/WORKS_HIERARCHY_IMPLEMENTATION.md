# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ "–†–∞–±–æ—Ç—ã" - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ

### 1. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –°–ø—Ä–∞–≤–∞ –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–µ–∂–∏–º—ã:**
- **–ü–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫** (–∏–∫–æ–Ω–∫–∞ —Å–ø–∏—Å–∫–∞) - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫** (–∏–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏) - –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ:**
- –ö–Ω–æ–ø–∫–∏ –≤ –≥—Ä—É–ø–ø–µ —Å border
- –ê–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º: —Å–∏–Ω–∏–π —Ñ–æ–Ω (bg-blue-600)
- –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º: —Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç —Å hover —ç—Ñ—Ñ–µ–∫—Ç–æ–º

### 2. –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û—Ç—Å—Ç—É–ø—ã –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (24px –Ω–∞ —É—Ä–æ–≤–µ–Ω—å)
- ‚úÖ –ò–∫–æ–Ω–∫–∏:
  - üìÅ –ñ–µ–ª—Ç–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø (—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –¥–µ—Ç—å–º–∏)
  - üìÑ –°–µ—Ä—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è/—Å–∫—Ä—ã—Ç–∏—è (—Å—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ/–≤–Ω–∏–∑)
- ‚úÖ –ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –≥—Ä—É–ø–ø
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞ —Å—Ç—Ä–µ–ª–∫–∏

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –∏–∑ –ø–ª–æ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∫–∞
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö —É–∑–ª–æ–≤ (Set)
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–°–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- 25 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- 500 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í –ø–∞–Ω–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï —ç–ª–µ–º–µ–Ω—Ç—ã (–¥–æ 10000)
- –í –ø–ª–æ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—ã—á–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```typescript
interface WorkWithHierarchy extends Work {
  _children?: Work[]      // –î–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
  _level?: number         // –£—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (0, 1, 2, ...)
  _hasChildren?: boolean  // –ï—Å—Ç—å –ª–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
}
```

### –§—É–Ω–∫—Ü–∏–∏

**buildHierarchy(items: Work[]): Work[]**
- –°—Ç—Ä–æ–∏—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ –ø–ª–æ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Map –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É—Ä–æ–≤–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

**flattenHierarchy(nodes: Work[]): Work[]**
- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –¥–µ—Ä–µ–≤–æ –≤ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—ã–µ —É–∑–ª—ã (expandedNodes)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ

**toggleExpand(nodeId: number)**
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —É–∑–ª–∞
- –î–æ–±–∞–≤–ª—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç ID –∏–∑ Set

### Computed —Å–≤–æ–π—Å—Ç–≤–∞

**displayData**
- –í –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ: —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç
- –í –ø–ª–æ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –µ—Å—Ç—å
- –î–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è (_level, _hasChildren)

**paginationInfo**
- –í –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ: –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ)
- –í –ø–ª–æ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ: –æ–±—ã—á–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```typescript
async function loadData() {
  const params = {
    page: view.table.pagination.value?.page || 1,
    page_size: viewMode.value === 'hierarchy' ? 10000 : pageSize.value,
    // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  }
  
  const response = await referencesApi.getWorks(params)
  // ...
}
```

---

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–∞–±–æ—Ç—ã                          [‚â°] [üìÅ]        ‚îÇ
‚îÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º —Ä–∞–±–æ—Ç                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫

```
üìÅ –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
  üìÑ –ö–∏—Ä–ø–∏—á–Ω–∞—è –∫–ª–∞–¥–∫–∞
  üìÑ –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
  üìÅ –û—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
    üìÑ –®—Ç—É–∫–∞—Ç—É—Ä–∫–∞
    üìÑ –ü–æ–∫—Ä–∞—Å–∫–∞
üìÅ –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
  üìÑ –ü—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª—è
  üìÑ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ–∑–µ—Ç–æ–∫
```

### –ü–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫

```
üìÑ –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
üìÑ –ö–∏—Ä–ø–∏—á–Ω–∞—è –∫–ª–∞–¥–∫–∞
üìÑ –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
üìÑ –û—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
üìÑ –®—Ç—É–∫–∞—Ç—É—Ä–∫–∞
üìÑ –ü–æ–∫—Ä–∞—Å–∫–∞
üìÑ –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
üìÑ –ü—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª—è
üìÑ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ–∑–µ—Ç–æ–∫
```

---

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 1–°

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------|----------|
| –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ | ‚úÖ | –ü–ª–æ—Å–∫–∏–π/–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π |
| –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ | ‚úÖ | –° –æ—Ç—Å—Ç—É–ø–∞–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏ |
| –†–∞—Å–∫—Ä—ã—Ç–∏–µ/—Å–∫—Ä—ã—Ç–∏–µ —É–∑–ª–æ–≤ | ‚úÖ | –ö–Ω–æ–ø–∫–∏ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ |
| –í–∏–∑—É–∞–ª—å–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –≥—Ä—É–ø–ø | ‚úÖ | –ò–∫–æ–Ω–∫–∏ –ø–∞–ø–æ–∫, –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | ‚úÖ | –°–µ–ª–µ–∫—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ | ‚úÖ | –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö |
| –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | ‚úÖ | –†–∞–±–æ—Ç–∞—é—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö |

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞

1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å –∏–∫–æ–Ω–∫–æ–π —Å–ø–∏—Å–∫–∞ (‚â°) - –ø–ª–æ—Å–∫–∏–π —Ä–µ–∂–∏–º
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å –∏–∫–æ–Ω–∫–æ–π –ø–∞–ø–∫–∏ (üìÅ) - –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º

### –†–∞–±–æ—Ç–∞ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π

1. **–†–∞—Å–∫—Ä—ã—Ç—å –≥—Ä—É–ø–ø—É:** –ù–∞–∂–∞—Ç—å –Ω–∞ —Å—Ç—Ä–µ–ª–∫—É —Å–ª–µ–≤–∞ –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è
2. **–°–∫—Ä—ã—Ç—å –≥—Ä—É–ø–ø—É:** –ù–∞–∂–∞—Ç—å –Ω–∞ —Å—Ç—Ä–µ–ª–∫—É –µ—â–µ —Ä–∞–∑
3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç:** –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ò–∑–º–µ–Ω–∏—Ç—å"

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–±–æ—Ä—ã")
2. –í—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ "–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ"
3. –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** –í –ø–ª–æ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–∞—Å–∫—Ä—ã—Ç—ã–µ —É–∑–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Set
3. **Computed —Å–≤–æ–π—Å—Ç–≤–∞:** –ü–µ—Ä–µ—Å—á–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
4. **Map –¥–ª—è –ø–æ–∏—Å–∫–∞:** O(1) –≤–º–µ—Å—Ç–æ O(n) –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –¥–µ—Ä–µ–≤–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–î–æ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
- **–ë–æ–ª–µ–µ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–æ—Å–∫–∏–π —Ä–µ–∂–∏–º —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- **–ü–æ–∏—Å–∫:** –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö, –Ω–æ –≤ –ø–ª–æ—Å–∫–æ–º –±—ã—Å—Ç—Ä–µ–µ

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ –¥—Ä—É–≥–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

```vue
<template>
  <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
  <div class="flex items-center gap-2">
    <button @click="viewMode = 'flat'">–ü–ª–æ—Å–∫–∏–π</button>
    <button @click="viewMode = 'hierarchy'">–ò–µ—Ä–∞—Ä—Ö–∏—è</button>
  </div>
  
  <!-- –¢–∞–±–ª–∏—Ü–∞ -->
  <DataTable :data="displayData">
    <template #cell-name="{ row, value }">
      <div :style="{ paddingLeft: `${row._level * 24}px` }">
        <button v-if="row._hasChildren" @click.stop="toggleExpand(row.id)">
          ‚ñ∂
        </button>
        {{ value }}
      </div>
    </template>
  </DataTable>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const viewMode = ref<'flat' | 'hierarchy'>('hierarchy')
const expandedNodes = ref<Set<number>>(new Set())

const displayData = computed(() => {
  if (viewMode.value === 'hierarchy') {
    const hierarchy = buildHierarchy(data.value)
    return flattenHierarchy(hierarchy)
  }
  return data.value
})

function buildHierarchy(items: any[]) {
  // ... —Å–º. —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ WorksView.vue
}

function flattenHierarchy(nodes: any[]) {
  // ... —Å–º. —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ WorksView.vue
}

function toggleExpand(nodeId: number) {
  if (expandedNodes.value.has(nodeId)) {
    expandedNodes.value.delete(nodeId)
  } else {
    expandedNodes.value.add(nodeId)
  }
}
</script>
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
2. ‚úÖ –†–∞—Å–∫—Ä—ã—Ç–∏–µ/—Å–∫—Ä—ã—Ç–∏–µ –≥—Ä—É–ø–ø
3. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤
4. ‚úÖ –ò–∫–æ–Ω–∫–∏ –¥–ª—è –≥—Ä—É–ø–ø –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
5. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
6. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
7. ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö
8. ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
console.time('load-1000')
await loadData()
console.timeEnd('load-1000')
// –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: < 2 —Å–µ–∫—É–Ω–¥

// –¢–µ—Å—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏
console.time('build-hierarchy')
const hierarchy = buildHierarchy(data)
console.timeEnd('build-hierarchy')
// –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: < 100ms
```

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ 5 —É—Ä–æ–≤–Ω–µ–π
2. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–æ 5000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **–ü–æ–∏—Å–∫ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª–µ–π

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö —É–∑–ª–æ–≤ –≤ localStorage
- [ ] –ö–Ω–æ–ø–∫–∞ "–†–∞—Å–∫—Ä—ã—Ç—å –≤—Å–µ" / "–°–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ"
- [ ] Drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –¥–ª—è –≥—Ä—É–ø–ø
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [ ] –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ "–†–∞–±–æ—Ç—ã" —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 1–°:
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ/–ø–ª–æ—Å–∫–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏
- ‚úÖ –†–∞—Å–∫—Ä—ã—Ç–∏–µ/—Å–∫—Ä—ã—Ç–∏–µ —É–∑–ª–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–î–∞—Ç–∞:** 01.12.2024  
**–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
