# Новые функции - Краткая инструкция

## Что добавлено

### ✅ 1. F5 обновляет форму списка
Нажмите F5 в любом списке (Работы, Сметы и т.д.) для обновления данных.

### ✅ 2. Кнопка "Изменить" в формах выбора
В диалогах выбора элементов появилась кнопка "Изменить" (F4) - открывает элемент на редактирование.

### ✅ 3. Расширенный справочник "Работы"
Теперь у работ есть:
- **Код** (например: МНТ-001)
- **Норма трудозатрат** в часах
- **Единица измерения**
- **Стоимость единицы**

Все эти данные автоматически попадают в смету и печатную форму.

### ✅ 4. Кнопка "Добавить группу" в смете
Добавляет строку-группу для структурирования работ в смете.

### ✅ 5. Перемещение строк в табличных частях
**Ctrl+Shift+Up** - переместить строку вверх  
**Ctrl+Shift+Down** - переместить строку вниз

---

## Быстрый старт

### Обновление базы данных
```bash
python migrate_works_table.py
```

### Тестирование
```bash
python test_new_features.py
```

### Запуск приложения
```bash
run.bat
```

---

## Горячие клавиши

| Клавиша | Действие |
|---------|----------|
| **F5** | Обновить список |
| **F4** | Изменить элемент (в диалоге выбора) |
| **Ctrl+Shift+↑** | Переместить строку вверх |
| **Ctrl+Shift+↓** | Переместить строку вниз |

---

## Пример: Создание работы с кодом

1. Справочники → Работы
2. Insert (создать)
3. Заполнить:
   - Наименование: "Монтаж оборудования"
   - Код: "МНТ-001"
   - Ед.изм.: "шт"
   - Цена: 5000
   - Норма ТЗ: 16
4. Ctrl+S (сохранить)

## Пример: Смета с группами

1. Документы → Сметы → Insert
2. Заполнить реквизиты
3. "Добавить группу" → ввести название
4. "Добавить строку" → выбрать работу
5. Ctrl+Shift+↑/↓ для изменения порядка
6. Ctrl+S (сохранить)

---

## Что изменилось в печатной форме

В печатной форме сметы теперь:
- Отображается код работы в отдельной колонке
- Группы выделяются жирным шрифтом
- Все данные работы (норма ТЗ, цена) берутся из справочника

---

Подробная документация: **NEW_FEATURES.md**
